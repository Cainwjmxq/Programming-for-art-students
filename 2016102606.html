<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>数独</title>
	<style type="text/css">
		td{width:40px;height:40px;text-align:center;font-size:24px;font-weight:bold}
		.canFill{background-color:#e7e7e7}
		.cellSelected{background-color:red;color:Blue;font-weight:bold}
		.filledText{font-weight:bold;color:Blue}
		button{font-size:18px;width:140px;height:35px;}
	</style>
	<script type="text/javascript" src="./jquery-3.1.1.min.js"></script>
</head>
<body>
	<button id="btnCheckSudoku">判断正误</button>&nbsp;&nbsp;&nbsp;
	<!--<button id="btnGenerateNew">生成数独</button>-->
	<table border="1" cellpadding="0" cellspacing="0" id="sudoku">
		<tr><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td><td>8</td><td>9</td></tr>
		<tr><td>4</td><td>5</td><td>6</td><td>7</td><td>8</td><td>9</td><td>1</td><td>2</td><td>3</td></tr>
		<tr><td>7</td><td>8</td><td>9</td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td></tr>
		<tr><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td><td>8</td><td>9</td><td>1</td></tr>
		<tr><td>5</td><td>6</td><td>7</td><td>8</td><td>9</td><td>1</td><td>2</td><td>3</td><td>4</td></tr>
		<tr><td>8</td><td>9</td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td></tr>
		<tr><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td><td>8</td><td>9</td><td>1</td><td>2</td></tr>
		<tr><td>6</td><td>7</td><td>8</td><td>9</td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td></tr>
		<tr><td>9</td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td><td></td></tr>
	</table><br>
	<table border="1" cellpadding="0" cellspacing="0" style="background-color:#dfe2be" id="numList">
		<tr><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td><td>8</td><td>9</td></tr>
	</table>
	<script type="text/javascript">
		$("td:empty").addClass("canFill");//$("td:empty")选中所有内容为空的元素
		
		$(".canFill").click(function(){
			$(".cellSelected").removeClass("cellSelected");//移走其他选中的元素
			$(this).addClass("cellSelected");//当前单元格加上选中
		});

		//选中numList元素下的td元素
		$("#numList td").click(function(){
			//找到有无一个td被标记cellSelected，如果找到则把当前数填充到单元格

			//当前单元格的数字
			var nowNum=$(this).text();
			$(".cellSelected").text(nowNum);//填入当前数字
			$(".cellSelected").addClass("filledText");//增加class
		});
		$("#btnCheckSudoku").click(function(){
			//alert(checkSpace());//判断有误空格，调试完毕后可以删除

			//为了调试方便，可以把数据直接填入表格，待调试完毕后，最后进行真实性调试

			if(checkSpace()==true && checkRow()==true/* && checkCol()==true && checkNine()==true*/){
				alert("OK!");
			}else{
				alert("填写有误！");
			};
		});

		/*$("#btnGenerateNew").click(function(){
			var rowAns=0;
			var colAns=0;
			while(colAns<9) {
				while(rowAns<9) {
					var cellTextAns=parseInt($("#sudoku tr").eq(rowNum).children("td").eq(rowTest).text());
				}
			}
		});*/

		//根据checkSpace()和checkRow()提示，完成如下三个函数
		//判断有误空白
		function checkSpace(){
			//alert("A"+$("#sudoku td").eq(i).text()+"A");
			for(var i=0;i<81;i++){
				var cellText=$("#sudoku td").eq(i).text();
				if (cellText=="")return false;
			}
			return true;
		}
		//行判断
		function checkRow(){
			//$("#sudoku tr")表示选中id为sudoku元素下的所有tr元素；
			//eq(1)的含义是选中元素中编号为1的元素，即第二个元素
			//children("td")的含义是选中子元素td；
			//eq(2)表示选中编号为2的元素，相当于第3个元素

			var rowTest=0;//行测试，用于取出一行内的数字
			var rowNum=0;//用于换行
			//var bumpAddRow=0;//用于检测行内数字是否符合要求
			while(rowNum<9) {
				while(rowTest<9) {
					var cellTextRow=parseInt($("#sudoku tr").eq(rowNum).children("td").eq(rowTest).text());//取出该行内每一个数字
					/*switch (cellTextRow) {//计算每个数字出现的次数
						case 1:
						num1++;
						break;
						case 2:
						num2++;
						break;
						case 3:
						num3++;
						break;
						case 4:
						num4++;
						break;
						case 5:
						num5++;
						break;
						case 6:
						num6++;
						break;
						case 7:
						num7++;
						break;
						case 8:
						num8++;
						break;
						case 9:
						num9++;
						break;
					}*/
					rowTest++;
				}
				/*if (num1==1) {} else {
					return false;
					break;
				}
				if (num1==2) {} else {
					return false;
					break;
				}
				if (num1==3) {} else {
					return false;
					break;
				}
				if (num1==4) {} else {
					return false;
					break;
				}
				if (num1==5) {} else {
					return false;
					break;
				}
				if (num1==6) {} else {
					return false;
					break;
				}
				if (num1==7) {} else {
					return false;
					break;
				}
				if (num1==8) {} else {
					return false;
					break;
				}
				if (num1==9) {} else {
					return false;
					break;
				}*/
				rowNum++;
				var rowTest=0;
			}
			if (false) {
				return false;
			} else {
				return true;
			}
		}
		//列判断
		/*function checkCol(){
			var colNum=0;//用于换列
			var colTest=0;//列测试，用于换行
			var bumpAddCol=0;//用于检测行内数字是否符合要求
			while(colNum<9) {
				while(colTest<9) {
					var cellTextCol=parseInt($("#sudoku tr").eq(colTest).children("td").eq(colNum).text());//取出该列内每一个数字
					var bumpAddCol=bumpAddCol+cellTextCol
					colTest++;
				}
				if (bumpAddCol==45) {
					colNum++;
					var bumpAddCol=0;
					var colTest=0;
				} else {
					return false;
					break;
				}
			}
			if (false) {
				return false
			} else {
				return true;
			}
		}
		//小九宫判断
		function checkNine(){
			var nineCol=0;
			var nineRow=0;
			var nineSectionR=0;
			var nineSectionC=0;
			var bumpAddNine=0;
			while(nineSectionC<7) {//用于切换小九宫格的行
				while(nineSectionR<7) {//用于切换小九宫格的列
					while(nineCol<3) {//九宫格内换行
						while(nineRow<3) {//九宫格内换列
							var nineText=parseInt($("#sudoku tr").eq(nineSectionC+nineCol).children("td").eq(nineSectionR+nineRow).text());
							var bumpAddNine=bumpAddNine+nineText;
							nineRow++;
						}
						nineCol++;
						var nineRow=0;
					}
					if (nineText==45) {
						var nineSectionR=nineSectionR+3;
						var nineText=0;
						var nineCol=0;
						var nineRow=0;
					} else {
						return false;
						break;
					}
				}
				var nineSectionR=0;
				var nineSectionC=nineSectionC+3;
				var nineText=0;
				var nineCol=0;
				var nineRow=0;
				if (false) {
					return false;
					break;
				} else {
					return true;
				}
			}
			if (false) {
				return false;	
			} else {
				return true;
			}
		}*/
		function checkNumber(X,Y){
			while(X<9) {
				while(Y<9) {
					var cellTextRow=parseInt($("#sudoku tr").eq(X).children("td").eq(Y).text());//取出该行内每一个数字
					switch (cellTextRow) {//计算每个数字出现的次数
						case 1:
						num1++;
						break;
						case 2:
						num2++;
						break;
						case 3:
						num3++;
						break;
						case 4:
						num4++;
						break;
						case 5:
						num5++;
						break;
						case 6:
						num6++;
						break;
						case 7:
						num7++;
						break;
						case 8:
						num8++;
						break;
						case 9:
						num9++;
						break;
					}
					Y++;
				}
				var count=1;
				while(count<10) {
					if (num+count==1) {
						count++;
					} else {
						return false;
						break;
					}
				}
				if (false) {
					break;
				} else {
					X++;
					var Y=0;
				}
			}
			if (false) {
				return false;
			} else {
				return true
			}
		}
	</script>
</body>
</html>
